{"version":3,"sources":["App.js","components/UploadFileImg.js","index.js"],"names":["AppTemplate","render","react_default","a","createElement","className","_this6","state","userCo","user","listItems","type","value","message","placeholder","onChange","handleChangeMsg","messageMd","handleChangeMsgMd","ref","fileInput","handleFiles","onClick","handleFileup","Button_default","addTab","variant","color","canvas","nextProps","nextState","_this7","this","Object","values","tab","map","isClassUser","msg","ReactHtmlParser","compiledMarkdown","msgMd","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","tabtest","imgMd","newMsg","bind","assertThisInitialized","dbchat","firebase","database","React","createRef","storageUpload","storage","event","_this2","preventDefault","file","current","files","fr","FileReader","img","Image","onload","e","width","height","style","console","log","ctx","getContext","drawImage","beginPath","moveTo","lineTo","stroke","src","result","readAsDataURL","_this3","toBlob","blob","child","name","put","then","snapshot","getDownloadURL","downloadURL","setState","getTab","getUser","scrollMsgEnd","target","Math","random","toString","substr","document","querySelector","scrollBy","top","scrollHeight","behavior","val","marked","sanitize","push","id","uniqueID","_this4","on","_this5","auth","onAuthStateChanged","displayName","loginGoogle","signInWithPopup","GoogleAuthProvider","catch","error","code","email","credential","Component","UploadFileImgTemplate","multiple","UploadFileImg","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","logout","signOut","Redirect","to","Header","root","AppBar_default","position","Toolbar_default","IconButton_default","aria-label","Menu_default","Link","concat","process","Typography_default","grow","PrivateRoute","_ref","component","rest","objectWithoutProperties","Route","assign","user2","currentUser","userisCo","Main","Switch","path","UploadFile","About","src_PrivateRoute","Home","ReactDOM","BrowserRouter","basename","src_Header","src_Main","getElementById"],"mappings":"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","file":"static/js/main.5035df71.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport marked from 'marked'\nimport ReactHtmlParser from 'react-html-parser';\nimport firebase from 'firebase'\nimport Button from '@material-ui/core/Button';\n\n\nimport './App.css';\n\n\n\nclass App extends Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: [],\n            tabtest: [\n                {user:\"te1\", msg:'lol'},\n                {user:\"te2\", msg:'lol'},\n                {user:\"te3\", msg:'lol'},\n            ],\n            userCo: false,\n            user: null,\n            message: null,\n            messageMd: null,\n            imgMd: null,\n            newMsg:false,\n            msg: 'lol'\n        };\n        this.handleChangeMsg = this.handleChangeMsg.bind(this);\n        this.handleChangeMsgMd =this.handleChangeMsgMd.bind(this);\n        this.handleFiles =this.handleFiles.bind(this);\n        this.handleFileup =this.handleFileup.bind(this);\n        this.handleFiles = this.handleFiles.bind(this);\n        this.handleFileup = this.handleFileup.bind(this);\n        this.addTab =this.addTab.bind(this);\n        this.dbchat = firebase.database().ref('/chat');\n        this.fileInput = React.createRef();\n        this.canvas = React.createRef();\n        this.storageUpload = firebase.storage().ref('/image');\n\n    }\n\n    handleFiles(event) {\n        event.preventDefault();\n        let file = this.fileInput.current.files[0];\n        let fr = new FileReader();\n        let img = new Image();\n        fr.onload = (e) => {\n            img.onload = (e) => {\n                let canvas = this.canvas.current;\n                canvas.width = 200;      // set canvas size big enough for the image\n                canvas.height = 300;\n                // canvas.width = img.width;      // set canvas size big enough for the image\n                // canvas.height = img.height;\n                canvas.style.width = 200+\"px\";      // set canvas size big enough for the image\n                canvas.style.height = 300+\"px\";\n                console.log(img.width);\n                console.log(img.height);\n                let ctx = canvas.getContext(\"2d\");\n                console.log(canvas.height);\n                console.log(canvas.width);\n                // ctx.drawImage(img,0,0, img.width, img.height,0,0,100,170);         // draw the image\n                ctx.drawImage(img,0,0,200,300);\n                ctx.beginPath();\n                ctx.moveTo(30, 96);\n                ctx.lineTo(70, 66);\n                ctx.lineTo(103, 76);\n                ctx.lineTo(170, 15);\n                ctx.stroke();// draw the image\n\n// do some manipulations...\n\n                // console.log(canvas.toDataURL(\"image/png\"));\n\n            };\n            img.src = fr.result;\n        };   // onload fires after reading is complete\n        fr.readAsDataURL(file);\n    }\n    handleFileup(event) {\n        let canvas = this.canvas.current;\n        let file = this.fileInput.current.files[0];\n\n        canvas.toBlob((blob) => {\n            this.storageUpload.child('/'+file.name).put(blob).then((snapshot) => {\n                // this.fileBlobStatus = \"Uploaded succes\";\n                snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    this.setState({\n                        imgMd:\"![alt image](\"+downloadURL+\")\",\n                        messageMd:\"![alt image](\"+downloadURL+\")\"\n                    })\n                });\n            });\n        });\n\n    }\n\n    componentDidMount() {\n        this.getTab();\n        this.getUser();\n        this.scrollMsgEnd();\n    }\n    componentDidUpdate() {\n        if (this.state.newMsg){\n            this.scrollMsgEnd();\n            this.setState({newMsg : false});\n        }\n    }\n\n                             handleChangeMsg (event) {\n        this.setState({message: event.target.value});\n        // console.log(event.target.value);\n    }\n\n    // handleChangeMsg = (event) => {\n    //     this.setState({message: event.target.value});\n    //     console.log(event.target.value);\n    // }\n\n\n    handleChangeMsgMd (event) {\n        this.setState({messageMd: event.target.value});\n    }\n\n\n    uniqueID () {\n        // Math.random should be unique because of its seeding algorithm.\n        // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n        // after the decimal.\n        return '_' + Math.random().toString(36).substr(2, 9);\n    }\n\n    scrollMsgEnd(){\n        if(document.querySelector('.Chat ul > li:last-child') !== null){\n\n            // document.querySelector('.Chat ul > li:last-child').scrollIntoView({block: \"end\", inline: \"end\"});\n            document.querySelector('.Chat ul').scrollBy({\n                top: document.querySelector('.Chat ul').scrollHeight,\n                // left: 100,\n                behavior: 'smooth'\n            });\n        }\n        // console.log(document.querySelector('.Chat ul').scrollWidth);\n        // console.log(document.querySelector('.Chat ul').scrollHeight);\n        // console.log(document.querySelector('.Chat ul').scrollTop);\n    }\n\n    compiledMarkdown (val) {\n        if (val) {\n            // console.log(marked(val, {sanitize: true}));\n            return marked(val, { sanitize: true })\n        }\n    }\n    isClassUser(user) {\n        if (this.state.user == user) {\n\n            return \"me\"\n\n        } else {\n            return \"nome\"\n\n        }\n    }\n    addTab (event) {\n        this.dbchat.push({\n            id: this.uniqueID(),\n            msg: this.state.message,\n            msgMd: this.state.messageMd,\n            user: this.state.user\n\n        });\n\n        this.setState({\n            message: '',\n            messageMd: ''\n        });\n    }\n    getTab () {\n\n        this.dbchat.on('value', (snapshot) => {\n            this.setState({\n                tab: snapshot.val(),\n                newMsg : true\n            });\n        })\n    }\n    getUser () {\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({\n                    userCo : true,\n                    user : user.displayName\n                })\n            } else {\n                this.setState({userCo : false});\n                this.loginGoogle();\n            }\n        });\n    }\n    loginGoogle () {\n        firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider()).then(function(result) {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            // The signed-in user info.\n            this.setState({ user : result.user.displayName });\n            console.log(this.user);\n            // this.userCo = true;\n            // ...\n        }).catch(function(error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            // The email of the user's account used.\n            var email = error.email;\n            // The firebase.auth.AuthCredential type that was used.\n            var credential = error.credential;\n            // ...\n        });\n    }\n}\nclass AppTemplate extends App {\n\n    listItems;\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log(Object.values(this.state.tab));\n        // console.log(nextState);\n        // console.log(nextState.tab);\n        this.listItems = Object.values(nextState.tab).map((tab) =>\n            <li className={this.isClassUser(tab.user)}>\n                { tab.user }:{ tab.msg } : {ReactHtmlParser(this.compiledMarkdown(tab.msgMd))}\n            </li>\n\n        );\n        return true\n    }\n\n    render = () => (\n        <div className=\"Chat\">\n            <div>Connecter:{ (() => {if (this.state.userCo){ return 'connecter'}else{ return 'noconnecter'}})()}</div>\n            <div>Connecter:{(this.state.userCo)? 'connecter' : 'noconnecter'}</div>\n            <div>user:{this.state.user}</div>\n            <ul>\n                {this.listItems}\n            </ul>\n            <input type=\"text\" value={this.state.message}  placeholder=\"modifiez-moi\" onChange={this.handleChangeMsg} />\n            <textarea value={this.state.messageMd} onChange={this.handleChangeMsgMd} ></textarea>\n            <p>\n                <span>uploadFile</span>\n                <input type=\"file\" ref={this.fileInput} onChange={this.handleFiles} placeholder=\"file 1\"/>\n                <input type=\"submit\"  onClick={this.handleFileup} /><br/>\n                {/*<span>{fileStatus}</span>*/}\n            </p>\n            {/*<button onClick={this.addTab}>add</button>*/}\n            <Button  onClick={this.addTab} variant=\"contained\" color=\"primary\">\n               add\n            </Button>\n            <canvas ref={this.canvas} ></canvas>\n\n\n        </div>\n    )\n\n}\n\nexport default AppTemplate;\n","import React, { Component } from 'react';\r\nimport './UploadFileImg.css';\r\nimport firebase from \"firebase\";\r\n\r\nclass UploadFileImg extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleFiles = this.handleFiles.bind(this);\r\n        this.handleFileup = this.handleFileup.bind(this);\r\n        this.fileInput = React.createRef();\r\n        this.canvas = React.createRef();\r\n        this.storageUpload = firebase.storage().ref('/image');\r\n    }\r\n    handleFiles(event) {\r\n        event.preventDefault();\r\n        let file = this.fileInput.current.files[0];\r\n        let fr = new FileReader();\r\n        let img = new Image();\r\n        fr.onload = (e) => {\r\n            img.onload = (e) => {\r\n                let canvas = this.canvas.current;\r\n                canvas.width = 200;      // set canvas size big enough for the image\r\n                canvas.height = 300;\r\n                // canvas.width = img.width;      // set canvas size big enough for the image\r\n                // canvas.height = img.height;\r\n                canvas.style.width = 200+\"px\";      // set canvas size big enough for the image\r\n                canvas.style.height = 300+\"px\";\r\n                console.log(img.width);\r\n                console.log(img.height);\r\n                let ctx = canvas.getContext(\"2d\");\r\n                console.log(canvas.height);\r\n                console.log(canvas.width);\r\n                // ctx.drawImage(img,0,0, img.width, img.height,0,0,100,170);         // draw the image\r\n                ctx.drawImage(img,0,0,200,300);\r\n                ctx.beginPath();\r\n                ctx.moveTo(30, 96);\r\n                ctx.lineTo(70, 66);\r\n                ctx.lineTo(103, 76);\r\n                ctx.lineTo(170, 15);\r\n                ctx.stroke();// draw the image\r\n\r\n// do some manipulations...\r\n\r\n                // console.log(canvas.toDataURL(\"image/png\"));\r\n\r\n            };\r\n            img.src = fr.result;\r\n        };   // onload fires after reading is complete\r\n        fr.readAsDataURL(file);\r\n    }\r\n    handleFileup(event) {\r\n        let canvas = this.canvas.current;\r\n        let file = this.fileInput.current.files[0];\r\n\r\n        canvas.toBlob((blob) => {\r\n            this.storageUpload.child('/'+file.name).put(blob).then((snapshot) => {\r\n                // this.fileBlobStatus = \"Uploaded succes\";\r\n                console.log(snapshot);\r\n                snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n                    console.log('File available at', downloadURL);\r\n                });\r\n            });\r\n        });\r\n\r\n    }\r\n}\r\nclass UploadFileImgTemplate extends UploadFileImg {\r\n    render() {\r\n        return (\r\n            <div className=\"upload\">\r\n                <p>\r\n                    <span>uploadFile</span>\r\n                    <input type=\"file\" ref={this.fileInput} onChange={this.handleFiles} placeholder=\"file 1\"/>\r\n                    <input type=\"submit\"  onClick={this.handleFileup} /><br/>\r\n                    {/*<span>{fileStatus}</span>*/}\r\n                </p>\r\n                <p>\r\n                    <span>uploadFileBlob</span>\r\n                    <input type=\"file\" ref=\"fileBlob\" onChange=\"handleFilesBlob\" placeholder=\"file blob\"/>\r\n                    <input type=\"submit\"  onClick=\"uploadFileBlob\"/><br/>\r\n                    {/*<span>{fileBlobStatus}</span>*/}\r\n                </p>\r\n                <p>\r\n                    <span>uploadFileEtat</span>\r\n                    <input type=\"file\" ref=\"fileEtat\" multiple onChange=\"handleFileEtat\" placeholder=\"upload File Etat\"/>\r\n                    <input type=\"submit\"  onClick=\"uploadFileEtat\"/><br/>\r\n                    {/*<span>{fileEtatStatus}</span>*/}\r\n                </p>\r\n            <canvas ref={this.canvas} ></canvas>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UploadFileImgTemplate;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Route, BrowserRouter, Link, Switch,  Redirect, withRouter} from 'react-router-dom';\nimport './index.css';\nimport firebase from 'firebase';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Home from './App'; // la mon module s'appelle App mais j'ai emvie de lui donner un autre nom qd je l'utilise ici parce que contextuellement c'est la Home\nimport UploadFile from './components/UploadFileImg'; // la mon module s'appelle App mais j'ai emvie de lui donner un autre nom qd je l'utilise ici parce que contextuellement c'est la Home\n\nconst config = {\n    apiKey: \"AIzaSyBLk-axC5M4HK9HIPC_OvE-UjqP4NdPfYk\",\n    authDomain: \"courvuejs-henry.firebaseapp.com\",\n    databaseURL: \"https://courvuejs-henry.firebaseio.com\",\n    projectId: \"courvuejs-henry\",\n    storageBucket: \"gs://courvuejs-henry.appspot.com\",\n    // messagingSenderId: \"<SENDER_ID>\",\n};\nfirebase.initializeApp(config);\n\n// The Header creates links that can be used to navigate\n// between routes.\nconst userisCo =  () => {\n    let co;\n    let user2 = firebase.auth().currentUser\n    firebase.auth().onAuthStateChanged((user) => {\n        co = user ? true : false;\n    });\n    return co = user2 ? true : false;\n    // return co;\n};\nconst logout = () => {\n    firebase.auth().signOut().then(function () {\n    }).catch(function (error) {\n    })\n\n    return <Redirect to=\"/\"/>\n};\nconst Header = (props) => (\n    <div className={props.root}>\n        <AppBar position=\"static\">\n            <Toolbar>\n                <IconButton className=\"nav\" color=\"inherit\" aria-label=\"Menu\">\n                    <MenuIcon />\n                    <nav className=\"navbar\">\n                        <ul className=\"navbar-list clearfix\">\n                            <li className=\"navbar-item\"><Link className=\"navbar-link\" to={`${process.env.PUBLIC_URL}/`}>Home</Link></li>\n                            <li className=\"navbar-item\"><Link className=\"navbar-link\" to={`${process.env.PUBLIC_URL}/upload`}>home Upload</Link></li>\n                            <li className=\"navbar-item\"><Link className=\"navbar-link\" to={`${process.env.PUBLIC_URL}/about`}>about</Link></li>\n                            <li className=\"navbar-item\"><Link className=\"navbar-link\" to={`${process.env.PUBLIC_URL}/logout`}>logout</Link></li>\n                        </ul>\n                    </nav>\n                </IconButton>\n                <Typography variant=\"h6\" color=\"inherit\" className={props.grow}>\n                    News\n                </Typography>\n                <Button color=\"inherit\">Login</Button>\n            </Toolbar>\n        </AppBar>\n    </div>\n);\n\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    // console.log(userisCo);\n    return (\n        <Route {...rest}\n               render={props =>\n                   userisCo() ? (\n                       <Component {...props} />\n                   ) : (\n                       <Redirect to=\"/about\"/>\n                   )\n               }\n        />)\n};\n\nconst Main = () => (\n    <main className=\"container\">\n        <Switch>\n            <Route path={`${process.env.PUBLIC_URL}/upload`} component={UploadFile}/>\n            <Route path={`${process.env.PUBLIC_URL}/about`} component={About}/>\n            <Route path=\"/logout\" component={logout}/>\n            <PrivateRoute path={`${process.env.PUBLIC_URL}/`} component={Home}/>\n        </Switch>\n    </main>\n\n);\n\nconst About = () => (\n    <div className=\"about\">\n        <h1>This is an about page</h1>\n    </div>\n);\nconst App = () => (\n    <div className=\"\">\n        <Header/>\n        <Main/>\n    </div>\n);\n\nReactDOM.render((\n    <BrowserRouter basename={'/'}>\n        <App/>\n    </BrowserRouter>\n), document.getElementById('root'))"],"sourceRoot":""}