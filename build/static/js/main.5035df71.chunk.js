(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){e.exports=a(333)},140:function(e,t,a){},202:function(e,t){},232:function(e,t,a){},314:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(134),l=a(0),c=a.n(l),i=a(50),o=a.n(i),r=a(338),s=a(336),u=a(340),h=a(339),m=a(337),d=(a(140),a(12)),p=a.n(d),g=a(129),b=a.n(g),f=a(130),v=a.n(f),E=a(133),y=a.n(E),j=a(62),O=a.n(j),C=a(131),k=a.n(C),M=a(132),w=a.n(M),F=a(32),N=a(33),I=a(36),U=a(34),S=a(35),T=a(6),x=a(126),D=a.n(x),R=a(127),B=a.n(R),A=(a(232),function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(I.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return c.a.createElement("div",{className:"Chat"},c.a.createElement("div",null,"Connecter:",a.state.userCo?"connecter":"noconnecter"),c.a.createElement("div",null,"Connecter:",a.state.userCo?"connecter":"noconnecter"),c.a.createElement("div",null,"user:",a.state.user),c.a.createElement("ul",null,a.listItems),c.a.createElement("input",{type:"text",value:a.state.message,placeholder:"modifiez-moi",onChange:a.handleChangeMsg}),c.a.createElement("textarea",{value:a.state.messageMd,onChange:a.handleChangeMsgMd}),c.a.createElement("p",null,c.a.createElement("span",null,"uploadFile"),c.a.createElement("input",{type:"file",ref:a.fileInput,onChange:a.handleFiles,placeholder:"file 1"}),c.a.createElement("input",{type:"submit",onClick:a.handleFileup}),c.a.createElement("br",null)),c.a.createElement(O.a,{onClick:a.addTab,variant:"contained",color:"primary"},"add"),c.a.createElement("canvas",{ref:a.canvas}))},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this;return this.listItems=Object.values(t.tab).map(function(e){return c.a.createElement("li",{className:a.isClassUser(e.user)},e.user,":",e.msg," : ",B()(a.compiledMarkdown(e.msgMd)))}),!0}}]),t}(function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(I.a)(this,Object(U.a)(t).call(this,e))).state={tab:[],tabtest:[{user:"te1",msg:"lol"},{user:"te2",msg:"lol"},{user:"te3",msg:"lol"}],userCo:!1,user:null,message:null,messageMd:null,imgMd:null,newMsg:!1,msg:"lol"},a.handleChangeMsg=a.handleChangeMsg.bind(Object(T.a)(Object(T.a)(a))),a.handleChangeMsgMd=a.handleChangeMsgMd.bind(Object(T.a)(Object(T.a)(a))),a.handleFiles=a.handleFiles.bind(Object(T.a)(Object(T.a)(a))),a.handleFileup=a.handleFileup.bind(Object(T.a)(Object(T.a)(a))),a.handleFiles=a.handleFiles.bind(Object(T.a)(Object(T.a)(a))),a.handleFileup=a.handleFileup.bind(Object(T.a)(Object(T.a)(a))),a.addTab=a.addTab.bind(Object(T.a)(Object(T.a)(a))),a.dbchat=p.a.database().ref("/chat"),a.fileInput=c.a.createRef(),a.canvas=c.a.createRef(),a.storageUpload=p.a.storage().ref("/image"),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"handleFiles",value:function(e){var t=this;e.preventDefault();var a=this.fileInput.current.files[0],n=new FileReader,l=new Image;n.onload=function(e){l.onload=function(e){var a=t.canvas.current;a.width=200,a.height=300,a.style.width="200px",a.style.height="300px",console.log(l.width),console.log(l.height);var n=a.getContext("2d");console.log(a.height),console.log(a.width),n.drawImage(l,0,0,200,300),n.beginPath(),n.moveTo(30,96),n.lineTo(70,66),n.lineTo(103,76),n.lineTo(170,15),n.stroke()},l.src=n.result},n.readAsDataURL(a)}},{key:"handleFileup",value:function(e){var t=this,a=this.canvas.current,n=this.fileInput.current.files[0];a.toBlob(function(e){t.storageUpload.child("/"+n.name).put(e).then(function(e){e.ref.getDownloadURL().then(function(e){t.setState({imgMd:"![alt image]("+e+")",messageMd:"![alt image]("+e+")"})})})})}},{key:"componentDidMount",value:function(){this.getTab(),this.getUser(),this.scrollMsgEnd()}},{key:"componentDidUpdate",value:function(){this.state.newMsg&&(this.scrollMsgEnd(),this.setState({newMsg:!1}))}},{key:"handleChangeMsg",value:function(e){this.setState({message:e.target.value})}},{key:"handleChangeMsgMd",value:function(e){this.setState({messageMd:e.target.value})}},{key:"uniqueID",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"scrollMsgEnd",value:function(){null!==document.querySelector(".Chat ul > li:last-child")&&document.querySelector(".Chat ul").scrollBy({top:document.querySelector(".Chat ul").scrollHeight,behavior:"smooth"})}},{key:"compiledMarkdown",value:function(e){if(e)return D()(e,{sanitize:!0})}},{key:"isClassUser",value:function(e){return this.state.user==e?"me":"nome"}},{key:"addTab",value:function(e){this.dbchat.push({id:this.uniqueID(),msg:this.state.message,msgMd:this.state.messageMd,user:this.state.user}),this.setState({message:"",messageMd:""})}},{key:"getTab",value:function(){var e=this;this.dbchat.on("value",function(t){e.setState({tab:t.val(),newMsg:!0})})}},{key:"getUser",value:function(){var e=this;p.a.auth().onAuthStateChanged(function(t){t?e.setState({userCo:!0,user:t.displayName}):(e.setState({userCo:!1}),e.loginGoogle())})}},{key:"loginGoogle",value:function(){p.a.auth().signInWithPopup(new p.a.auth.GoogleAuthProvider).then(function(e){this.setState({user:e.user.displayName}),console.log(this.user)}).catch(function(e){e.code,e.message,e.email,e.credential})}}]),t}(l.Component))),L=(a(314),function(e){function t(){return Object(F.a)(this,t),Object(I.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"upload"},c.a.createElement("p",null,c.a.createElement("span",null,"uploadFile"),c.a.createElement("input",{type:"file",ref:this.fileInput,onChange:this.handleFiles,placeholder:"file 1"}),c.a.createElement("input",{type:"submit",onClick:this.handleFileup}),c.a.createElement("br",null)),c.a.createElement("p",null,c.a.createElement("span",null,"uploadFileBlob"),c.a.createElement("input",{type:"file",ref:"fileBlob",onChange:"handleFilesBlob",placeholder:"file blob"}),c.a.createElement("input",{type:"submit",onClick:"uploadFileBlob"}),c.a.createElement("br",null)),c.a.createElement("p",null,c.a.createElement("span",null,"uploadFileEtat"),c.a.createElement("input",{type:"file",ref:"fileEtat",multiple:!0,onChange:"handleFileEtat",placeholder:"upload File Etat"}),c.a.createElement("input",{type:"submit",onClick:"uploadFileEtat"}),c.a.createElement("br",null)),c.a.createElement("canvas",{ref:this.canvas}))}}]),t}(function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(I.a)(this,Object(U.a)(t).call(this,e))).handleFiles=a.handleFiles.bind(Object(T.a)(Object(T.a)(a))),a.handleFileup=a.handleFileup.bind(Object(T.a)(Object(T.a)(a))),a.fileInput=c.a.createRef(),a.canvas=c.a.createRef(),a.storageUpload=p.a.storage().ref("/image"),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"handleFiles",value:function(e){var t=this;e.preventDefault();var a=this.fileInput.current.files[0],n=new FileReader,l=new Image;n.onload=function(e){l.onload=function(e){var a=t.canvas.current;a.width=200,a.height=300,a.style.width="200px",a.style.height="300px",console.log(l.width),console.log(l.height);var n=a.getContext("2d");console.log(a.height),console.log(a.width),n.drawImage(l,0,0,200,300),n.beginPath(),n.moveTo(30,96),n.lineTo(70,66),n.lineTo(103,76),n.lineTo(170,15),n.stroke()},l.src=n.result},n.readAsDataURL(a)}},{key:"handleFileup",value:function(e){var t=this,a=this.canvas.current,n=this.fileInput.current.files[0];a.toBlob(function(e){t.storageUpload.child("/"+n.name).put(e).then(function(e){console.log(e),e.ref.getDownloadURL().then(function(e){console.log("File available at",e)})})})}}]),t}(l.Component)));p.a.initializeApp({apiKey:"AIzaSyBLk-axC5M4HK9HIPC_OvE-UjqP4NdPfYk",authDomain:"courvuejs-henry.firebaseapp.com",databaseURL:"https://courvuejs-henry.firebaseio.com",projectId:"courvuejs-henry",storageBucket:"gs://courvuejs-henry.appspot.com"});var P=function(){return p.a.auth().signOut().then(function(){}).catch(function(e){}),c.a.createElement(r.a,{to:"/"})},q=function(e){return c.a.createElement("div",{className:e.root},c.a.createElement(b.a,{position:"static"},c.a.createElement(v.a,null,c.a.createElement(k.a,{className:"nav",color:"inherit","aria-label":"Menu"},c.a.createElement(w.a,null),c.a.createElement("nav",{className:"navbar"},c.a.createElement("ul",{className:"navbar-list clearfix"},c.a.createElement("li",{className:"navbar-item"},c.a.createElement(s.a,{className:"navbar-link",to:"".concat("","/")},"Home")),c.a.createElement("li",{className:"navbar-item"},c.a.createElement(s.a,{className:"navbar-link",to:"".concat("","/upload")},"home Upload")),c.a.createElement("li",{className:"navbar-item"},c.a.createElement(s.a,{className:"navbar-link",to:"".concat("","/about")},"about")),c.a.createElement("li",{className:"navbar-item"},c.a.createElement(s.a,{className:"navbar-link",to:"".concat("","/logout")},"logout"))))),c.a.createElement(y.a,{variant:"h6",color:"inherit",className:e.grow},"News"),c.a.createElement(O.a,{color:"inherit"},"Login"))))},z=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return c.a.createElement(u.a,Object.assign({},a,{render:function(e){return function(){var e=p.a.auth().currentUser;return p.a.auth().onAuthStateChanged(function(e){}),!!e}()?c.a.createElement(t,e):c.a.createElement(r.a,{to:"/about"})}}))},H=function(){return c.a.createElement("main",{className:"container"},c.a.createElement(h.a,null,c.a.createElement(u.a,{path:"".concat("","/upload"),component:L}),c.a.createElement(u.a,{path:"".concat("","/about"),component:G}),c.a.createElement(u.a,{path:"/logout",component:P}),c.a.createElement(z,{path:"".concat("","/"),component:A})))},G=function(){return c.a.createElement("div",{className:"about"},c.a.createElement("h1",null,"This is an about page"))};o.a.render(c.a.createElement(m.a,{basename:"/"},c.a.createElement(function(){return c.a.createElement("div",{className:""},c.a.createElement(q,null),c.a.createElement(H,null))},null)),document.getElementById("root"))}},[[135,2,1]]]);
//# sourceMappingURL=main.5035df71.chunk.js.map